(this.webpackJsonpniblesoft=this.webpackJsonpniblesoft||[]).push([[0],{28:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var o=n(1),r=n.n(o),a=n(5),c=n.n(a),s=(n(28),n(2)),i=n(6),l=n(22),d=n(8),u=n(7),j=n(0),b=function(e){return Object(j.jsxs)("div",{className:"wr-note",children:[Object(j.jsx)("h3",{children:e.note}),Object(j.jsx)("p",{children:e.tags}),Object(j.jsxs)("div",{className:"wr-btn",children:[Object(j.jsx)("button",{onClick:function(){return t=e.id,document.body.classList.add("lock"),void e.toggleModal(!0,t);var t},children:"Edit"}),Object(j.jsx)("button",{className:"delete-btn",onClick:function(){return e.deleteNote(e.id)},children:"\xd7"})]})]})},f=function(){return Object(j.jsx)("div",{id:"cube-loader",children:Object(j.jsx)("div",{className:"caption",children:Object(j.jsxs)("div",{className:"cube-loader",children:[Object(j.jsx)("div",{className:"cube loader-1"}),Object(j.jsx)("div",{className:"cube loader-2"}),Object(j.jsx)("div",{className:"cube loader-4"}),Object(j.jsx)("div",{className:"cube loader-3"})]})})})},O=function(e){var t=r.a.createRef();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"modal",children:[Object(j.jsx)("h2",{children:e.editNoteId?"Edit note":"Add new note"}),e.editNoteId?Object(j.jsxs)("div",{className:"tags-selection",children:[" ",e.newNoteText.split(" ").filter((function(e){return"#"===e[0]})).map((function(e,t){return Object(j.jsx)("span",{className:"tags",children:e},"tags-".concat(t))}))," "]}):"",Object(j.jsx)("textarea",{ref:t,onInput:function(){var n=t.current.value;e.updateNoteText(n)},value:e.newNoteText}),Object(j.jsx)("button",{onClick:function(){return e.updateNotes(e.editNoteId)},children:"Save"}),Object(j.jsx)("button",{className:"close-btn",onClick:function(){return document.body.classList.remove("lock"),void e.toggleModal(!1)},children:"\xd7"})]}),Object(j.jsx)("div",{className:"modal-shadow"})]})},p=n(4),g=n(12),N="UPDATE-NOTES-ARR",h="TOGGLE-MODAL",x="DELETE-NOTE",v="SET-NOTES",T="TOGGLE-PRELOADER",m="UPDATE-NOTE-TEXT",w="UPDATE-FILTER-TEXT",E="FILTER-NOTES",P="DELETE-FILTER",I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:h,isModal:e,noteId:t}},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:N,data:e,noteId:t}},A=function(e){return{type:T,isFetching:e}},F={notes:null,newNoteText:"New note",isModal:!1,editNoteId:null,isFetching:!1,filterValue:"#",filterNotesArr:null},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(s.a)(Object(s.a)({},e),{},{notes:Object(g.a)(t.notes)});case T:return Object(s.a)(Object(s.a)({},e),{},{isFetching:t.isFetching});case N:var n=Object(g.a)(e.notes);if(t.noteId){var o=e.notes.map((function(e){return e._id===t.noteId&&(e.value=t.data,e.tags=t.data.split(" ").filter((function(e){return"#"===e[0]})).join(" ")),e}));return Object(s.a)(Object(s.a)({},e),{},{notes:o,editNoteId:null})}var r={_id:t.data._id,id:t.data.id,value:t.data.value,addDate:t.data.addDate,tags:t.data.value.split(" ").filter((function(e){return"#"===e[0]})).join(" ")};return n.push(r),Object(s.a)(Object(s.a)({},e),{},{notes:n});case h:if(t.noteId){var a=e.notes.filter((function(e){if(e._id===t.noteId)return e}));return Object(s.a)(Object(s.a)({},e),{},{isModal:t.isModal,editNoteId:t.noteId,newNoteText:a[0].value})}return Object(s.a)(Object(s.a)({},e),{},{isModal:t.isModal,editNoteId:null,newNoteText:"New note"});case x:var c=e.notes.filter((function(e){return e._id!==t.noteId}));return Object(s.a)(Object(s.a)({},e),{},{notes:c});case m:return Object(s.a)(Object(s.a)({},e),{},{newNoteText:t.noteText});case w:return Object(s.a)(Object(s.a)({},e),{},{filterValue:t.filterText});case E:if(!e.filterValue||"#"===e.filterValue)return Object(s.a)(Object(s.a)({},e),{},{filterNotesArr:null});var i=e.notes.filter((function(t){if(t.tags&&-1!==t.tags.split(" ").indexOf(e.filterValue))return t}));return Object(s.a)(Object(s.a)({},e),{},{filterNotesArr:i});case P:return Object(s.a)(Object(s.a)({},e),{},{filterNotesArr:null,filterValue:"#"});default:return e}},L=n(23),k=n.n(L).a.create({baseURL:"https://todolist-7bfe.restdb.io/rest/",crossDomain:!0,headers:{"x-apikey":"60c865cee2c96c46a2463560"}}),D={getNotes:function(){return k.get("todo").then((function(e){return e.data}))},deleteNote:function(e){return k.delete("todo/"+e).then((function(e){return e.data}))},addNote:function(e,t){return k.post("todo",{value:e,tags:e.split(" ").filter((function(e){return"#"===e[0]})).join(" "),addDate:t}).then((function(e){return e.data}))},updateNote:function(e,t){return k.put("todo/"+e,{value:t,tags:t.split(" ").filter((function(e){return"#"===e[0]})).join(" ")})}},C=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).updateNotes=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e.props.togglePreloader(!0),t?D.updateNote(t,e.props.newNoteText).then((function(n){e.props.togglePreloader(!1),e.props.toggleModal(!1),document.body.classList.remove("lock"),e.props.updateNotesArr(e.props.newNoteText,t)})):D.addNote(e.props.newNoteText,new Date).then((function(t){t&&(e.props.togglePreloader(!1),e.props.toggleModal(!1),document.body.classList.remove("lock"),e.props.updateNotesArr(t))}))},e.render=function(){return Object(j.jsx)(O,Object(s.a)(Object(s.a)({},e.props),{},{updateNotes:e.updateNotes}))},e}return n}(r.a.Component),R=Object(p.b)((function(e){return{notes:e.notesPage.notes,newNoteText:e.notesPage.newNoteText,editNoteId:e.notesPage.editNoteId}}),{toggleModal:I,togglePreloader:A,updateNotesArr:y,updateNoteText:function(e){return{type:m,noteText:e}}})(C),V=n.p+"static/media/trash-solid.fb7bc740.png",S=function(e){var t=r.a.createRef(),n=[],o=function(t){return t.map((function(t){return Object(j.jsx)(b,{id:t._id,note:t.value,tags:t.tags,date:t.addDate,deleteNote:e.deleteNote,toggleModal:e.toggleModal},t.id)}))};e.filterNotesArr?n=o(e.filterNotesArr):e.notes&&(n=o(e.notes));return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{className:"add-btn",onClick:function(){return document.body.classList.add("lock"),void e.toggleModal(!0)},children:"Add note"}),Object(j.jsxs)("div",{className:"wr-content",children:[Object(j.jsx)("h1",{children:"TO DO LIST APP"}),Object(j.jsx)("div",{className:"notes-container",children:n}),Object(j.jsxs)("div",{className:"wr-filter",children:[Object(j.jsx)("input",{type:"text",ref:t,onChange:function(){var n=t.current.value;e.updateFilterText(n)},value:e.filterValue}),Object(j.jsx)("button",{onClick:e.filterNotes,children:"Find tag"}),Object(j.jsx)("button",{className:"wr-pic",onClick:function(){return e.deleteFilter()},children:Object(j.jsx)("img",{src:V,alt:"trash"})})]})]})]})},_=function(e){return Object(j.jsxs)(j.Fragment,{children:[e.isFetching?Object(j.jsx)(f,{}):Object(j.jsx)(S,Object(s.a)({},e)),e.isModal?Object(j.jsx)(R,{}):""]})},G=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).deleteNote=function(t){e.props.togglePreloader(!0),D.deleteNote(t).then((function(n){n&&(e.props.togglePreloader(!1),e.props.deleteNote(t))}))},e.render=function(){return Object(j.jsx)(_,Object(s.a)(Object(s.a)({},e.props),{},{deleteNote:e.deleteNote}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.togglePreloader(!0),D.getNotes().then((function(t){t&&(e.props.togglePreloader(!1),e.props.setNotes(t))}))}}]),n}(r.a.Component),U=Object(p.b)((function(e){return{notes:e.notesPage.notes,isModal:e.notesPage.isModal,newNoteText:e.notesPage.newNoteText,isFetching:e.notesPage.isFetching,filterValue:e.notesPage.filterValue,filterNotesArr:e.notesPage.filterNotesArr}}),{setNotes:function(e){return{type:v,notes:e}},toggleModal:I,updateNotesArr:y,deleteNote:function(e){return{type:x,noteId:e}},togglePreloader:A,updateFilterText:function(e){return{type:w,filterText:e}},filterNotes:function(){return{type:E}},deleteFilter:function(){return{type:P}}})(G);var B=function(){return Object(j.jsx)(U,{})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,53)).then((function(t){var n=t.getCLS,o=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),o(e),r(e),a(e),c(e)}))},X=n(13),q=Object(X.a)({notesPage:M}),z=Object(X.b)(q);window.store=z;var H=z;c.a.render(Object(j.jsx)(p.a,{store:H,children:Object(j.jsx)(B,{})}),document.getElementById("root")),J()}},[[52,1,2]]]);
//# sourceMappingURL=main.ccf65537.chunk.js.map